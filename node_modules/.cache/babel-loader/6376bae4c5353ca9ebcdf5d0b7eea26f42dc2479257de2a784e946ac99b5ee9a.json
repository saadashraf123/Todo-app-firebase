{"ast":null,"code":"import _objectSpread from\"D:/react/ishaq/firebase-app/Todo-app-firebase/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import Todo from\"./Todo\";import{collection,query,onSnapshot}from\"firebase/firestore\";import{db}from\"../firebase\";import{getAllTodos,useAppSelector,useAppDispatch}from'../Redux/Slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Todos=function Todos(){var dispatch=useAppDispatch();var todo=useAppSelector(function(state){return state.todos.todos;});useEffect(function(){var q=query(collection(db,\"todos\"));var unsub=onSnapshot(q,function(querySnapshot){var todosArray=[];querySnapshot.forEach(function(doc){todosArray.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));});dispatch(getAllTodos(todosArray));});return function(){return unsub();};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:todo.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"todo_container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Todo List\"}),todo.map(function(data){return/*#__PURE__*/_jsx(Todo,{todo:data},data.id);})]})});};export default Todos;","map":{"version":3,"names":["React","useEffect","Todo","collection","query","onSnapshot","db","getAllTodos","useAppSelector","useAppDispatch","Todos","dispatch","todo","state","todos","q","unsub","querySnapshot","todosArray","forEach","doc","push","data","id","length","map"],"sources":["D:/react/ishaq/firebase-app/Todo-app-firebase/src/components/Todos.tsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport Todo from \"./Todo\";\r\nimport { collection, query, onSnapshot } from \"firebase/firestore\";\r\nimport { db } from \"../firebase\";\r\nimport { getAllTodos, useAppSelector, useAppDispatch } from '../Redux/Slice'\r\n\r\nconst Todos = () => {\r\n    const dispatch = useAppDispatch()\r\n    const todo = useAppSelector(state=>state.todos.todos)    \r\n\r\n    useEffect(() => {\r\n        const q = query(collection(db, \"todos\"));\r\n        const unsub = onSnapshot(q, (querySnapshot) => {\r\n            let todosArray:(object)[] = [];\r\n            querySnapshot.forEach((doc) => {\r\n                todosArray.push({ ...doc.data(), id: doc.id });\r\n            });\r\n            dispatch(getAllTodos(todosArray))\r\n        });\r\n        return () => unsub();\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                todo.length > 0 &&\r\n                <div className=\"todo_container\">\r\n                    <h2>Todo List</h2>\r\n                    {todo.map((data) => (<Todo key={data.id} todo={data} />))}\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Todos"],"mappings":"kIAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,KAAI,KAAM,QAAQ,CACzB,OAASC,UAAU,CAAEC,KAAK,CAAEC,UAAU,KAAQ,oBAAoB,CAClE,OAASC,EAAE,KAAQ,aAAa,CAChC,OAASC,WAAW,CAAEC,cAAc,CAAEC,cAAc,KAAQ,gBAAgB,8IAE5E,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAChB,GAAMC,SAAQ,CAAGF,cAAc,EAAE,CACjC,GAAMG,KAAI,CAAGJ,cAAc,CAAC,SAAAK,KAAK,QAAEA,MAAK,CAACC,KAAK,CAACA,KAAK,GAAC,CAErDb,SAAS,CAAC,UAAM,CACZ,GAAMc,EAAC,CAAGX,KAAK,CAACD,UAAU,CAACG,EAAE,CAAE,OAAO,CAAC,CAAC,CACxC,GAAMU,MAAK,CAAGX,UAAU,CAACU,CAAC,CAAE,SAACE,aAAa,CAAK,CAC3C,GAAIC,WAAqB,CAAG,EAAE,CAC9BD,aAAa,CAACE,OAAO,CAAC,SAACC,GAAG,CAAK,CAC3BF,UAAU,CAACG,IAAI,gCAAMD,GAAG,CAACE,IAAI,EAAE,MAAEC,EAAE,CAAEH,GAAG,CAACG,EAAE,GAAG,CAClD,CAAC,CAAC,CACFZ,QAAQ,CAACJ,WAAW,CAACW,UAAU,CAAC,CAAC,CACrC,CAAC,CAAC,CACF,MAAO,kBAAMF,MAAK,EAAE,GACxB,CAAC,CAAE,EAAE,CAAC,CAGN,mBACI,yBAEQJ,IAAI,CAACY,MAAM,CAAG,CAAC,eACf,aAAK,SAAS,CAAC,gBAAgB,wBAC3B,oBAAI,WAAS,EAAK,CACjBZ,IAAI,CAACa,GAAG,CAAC,SAACH,IAAI,qBAAM,KAAC,IAAI,EAAe,IAAI,CAAEA,IAAK,EAApBA,IAAI,CAACC,EAAE,CAAgB,EAAC,CAAC,GACvD,EAEX,CAEX,CAAC,CAED,cAAeb,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}