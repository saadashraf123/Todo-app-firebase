{"ast":null,"code":"import _objectSpread from\"D:/react/ishaq/firebase-app/Todo-app-firebase/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/react/ishaq/firebase-app/Todo-app-firebase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/react/ishaq/firebase-app/Todo-app-firebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{db}from\"../firebase\";import{doc,updateDoc,deleteDoc}from\"firebase/firestore\";import CheckCircleIcon from\"@mui/icons-material/CheckCircle\";import EditIcon from\"@mui/icons-material/Edit\";import DeleteIcon from\"@mui/icons-material/Delete\";import{useForm}from'react-hook-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Todo=function Todo(_ref){var _errors$title;var todo=_ref.todo;var _useForm=useForm({defaultValues:{title:todo.title}}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var handleChange=function handleChange(data){updateDoc(doc(db,\"todos\",todo.id),{title:data.title});};var toggleComplete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(todo){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return updateDoc(doc(db,\"todos\",todo.id),{completed:!todo.completed});case 2:case\"end\":return _context.stop();}},_callee);}));return function toggleComplete(_x){return _ref2.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(todo){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return deleteDoc(doc(db,\"todos\",todo.id));case 2:case\"end\":return _context2.stop();}},_callee2);}));return function handleDelete(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"todo\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(handleChange),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},register(\"title\",{required:\"This is Required\"}))),/*#__PURE__*/_jsx(\"p\",{children:(_errors$title=errors.title)===null||_errors$title===void 0?void 0:_errors$title.message}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"Edit\",className:\"button button-edit\",children:/*#__PURE__*/_jsx(EditIcon,{id:\"i\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"button button-complete\",onClick:function onClick(){return toggleComplete(todo);},children:/*#__PURE__*/_jsx(CheckCircleIcon,{id:\"i\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"button button-delete\",onClick:function onClick(){return handleDelete(todo);},children:/*#__PURE__*/_jsx(DeleteIcon,{id:\"i\"})})]})});};export default Todo;","map":{"version":3,"names":["React","db","doc","updateDoc","deleteDoc","CheckCircleIcon","EditIcon","DeleteIcon","useForm","Todo","todo","defaultValues","title","register","handleSubmit","errors","formState","handleChange","data","id","toggleComplete","completed","handleDelete","required","message"],"sources":["D:/react/ishaq/firebase-app/Todo-app-firebase/src/components/Todo.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { db } from \"../firebase\";\r\nimport { doc, updateDoc, deleteDoc } from \"firebase/firestore\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport { useForm, SubmitHandler } from 'react-hook-form'\r\n\r\ntype FormValues ={\r\n    title: string;\r\n};\r\n\r\ninterface TodoListProps {\r\n  todo: todoTypes;\r\n}\r\n\r\ninterface todoTypes {\r\n  title: string;\r\n  completed: boolean;\r\n  id: string\r\n}\r\n\r\nconst Todo = ({ todo }:TodoListProps) => {\r\n    const { register, handleSubmit, formState: { errors } } = useForm<FormValues>({\r\n        defaultValues: {\r\n            title: todo.title,\r\n        }\r\n    });\r\n    const handleChange: SubmitHandler<FormValues> = (data) => {\r\n        updateDoc(doc(db, \"todos\", todo.id), { title: data.title });\r\n    };\r\n\r\n    const toggleComplete = async (todo:todoTypes) => {\r\n        await updateDoc(doc(db, \"todos\", todo.id), { completed: !todo.completed });\r\n    };\r\n    const handleDelete = async (todo:todoTypes) => {\r\n        await deleteDoc(doc(db, \"todos\", todo.id));\r\n    };\r\n    return (\r\n        <div className=\"todo\">\r\n            <form onSubmit={handleSubmit(handleChange)}>\r\n                <input {...register(\"title\", { required: \"This is Required\" })}\r\n                    // style={{ textDecoration: todo.completed && \"line-through\" }}\r\n                />\r\n                <p>{errors.title?.message}</p>\r\n                <button type='submit' value=\"Edit\" className=\"button button-edit\" ><EditIcon id=\"i\" /></button>\r\n                <button\r\n                    className=\"button button-complete\"\r\n                    onClick={() => toggleComplete(todo)}\r\n                >\r\n                    <CheckCircleIcon id=\"i\" />\r\n                </button>\r\n                <button className=\"button button-delete\"\r\n                    onClick={() => handleDelete(todo)}\r\n                >\r\n                    <DeleteIcon id=\"i\" />\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Todo"],"mappings":"wZAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,EAAE,KAAQ,aAAa,CAChC,OAASC,GAAG,CAAEC,SAAS,CAAEC,SAAS,KAAQ,oBAAoB,CAC9D,MAAOC,gBAAe,KAAM,iCAAiC,CAC7D,MAAOC,SAAQ,KAAM,0BAA0B,CAC/C,MAAOC,WAAU,KAAM,4BAA4B,CACnD,OAASC,OAAO,KAAuB,iBAAiB,yFAgBxD,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAA+B,sBAAzBC,KAAI,MAAJA,IAAI,CAChB,aAA0DF,OAAO,CAAa,CAC1EG,aAAa,CAAE,CACXC,KAAK,CAAEF,IAAI,CAACE,KAChB,CACJ,CAAC,CAAC,CAJMC,QAAQ,UAARA,QAAQ,CAAEC,YAAY,UAAZA,YAAY,CAAeC,MAAM,UAAnBC,SAAS,CAAID,MAAM,CAKnD,GAAME,aAAuC,CAAG,QAA1CA,aAAuC,CAAIC,IAAI,CAAK,CACtDf,SAAS,CAACD,GAAG,CAACD,EAAE,CAAE,OAAO,CAAES,IAAI,CAACS,EAAE,CAAC,CAAE,CAAEP,KAAK,CAAEM,IAAI,CAACN,KAAM,CAAC,CAAC,CAC/D,CAAC,CAED,GAAMQ,eAAc,6FAAG,iBAAOV,IAAc,yIAClCP,UAAS,CAACD,GAAG,CAACD,EAAE,CAAE,OAAO,CAAES,IAAI,CAACS,EAAE,CAAC,CAAE,CAAEE,SAAS,CAAE,CAACX,IAAI,CAACW,SAAU,CAAC,CAAC,sDAC7E,kBAFKD,eAAc,6CAEnB,CACD,GAAME,aAAY,6FAAG,kBAAOZ,IAAc,8IAChCN,UAAS,CAACF,GAAG,CAACD,EAAE,CAAE,OAAO,CAAES,IAAI,CAACS,EAAE,CAAC,CAAC,wDAC7C,kBAFKG,aAAY,8CAEjB,CACD,mBACI,YAAK,SAAS,CAAC,MAAM,uBACjB,cAAM,QAAQ,CAAER,YAAY,CAACG,YAAY,CAAE,wBACvC,8BAAWJ,QAAQ,CAAC,OAAO,CAAE,CAAEU,QAAQ,CAAE,kBAAmB,CAAC,CAAC,EAE5D,cACF,kCAAIR,MAAM,CAACH,KAAK,wCAAZ,cAAcY,OAAO,EAAK,cAC9B,eAAQ,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,oBAAoB,uBAAE,KAAC,QAAQ,EAAC,EAAE,CAAC,GAAG,EAAG,EAAS,cAC/F,eACI,SAAS,CAAC,wBAAwB,CAClC,OAAO,CAAE,yBAAMJ,eAAc,CAACV,IAAI,CAAC,EAAC,uBAEpC,KAAC,eAAe,EAAC,EAAE,CAAC,GAAG,EAAG,EACrB,cACT,eAAQ,SAAS,CAAC,sBAAsB,CACpC,OAAO,CAAE,yBAAMY,aAAY,CAACZ,IAAI,CAAC,EAAC,uBAElC,KAAC,UAAU,EAAC,EAAE,CAAC,GAAG,EAAG,EAChB,GACN,EACL,CAEd,CAAC,CAED,cAAeD,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}